---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Layout from '../layouts/Layout.astro';
import SideNav from '../components/SideNav.astro';
---

<Layout>
  <Header />
  <SideNav sections={[]} />
  
  <main class="w-full min-h-screen pb-16 px-4 sm:px-8 lg:px-16 ">
    <!-- Main Contact Section -->
    <section class="mt-[12dvh] lg:mt-[15dvh] h-full w-full">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
        
        <!-- Contact Information -->
        <div class="space-y-8">
          <img src="/assets/imagen_correos.webp" alt="Spika Tech Logo" class="aspect-1 w-full">
          <h2 class="text-3xl font-bold text-[#003035] mb-6" data-i18n="Contacto.hero.title"></h2>
          <h3 class="text-3xl font-bold text-[#4b858e] mb-6" data-i18n="Contacto.hero.subtitle"></h3>
          
          <div class="space-y-6 ">  
            

            <!-- Address -->
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-12 h-12 bg-[#CEDF00] rounded-full flex items-center justify-center">
                <i class="bi bi-geo-alt text-[#003035] text-sm"></i>
              </div>
              <div>
                <h3 class="text-sm font-semibold text-[#003035] mb-1" data-i18n="Contacto.info.address"></h3>
                <p class="text-[#4B858E] leading-relaxed" data-i18n="Contacto.info.address_text"></p>
              </div>
            </div>

           
          </div>
        </div>

        <!-- Contact Form -->
        <div class="bg-gray-50 rounded-lg p-8 flex flex-col justify-center">
          <h2 class="text-3xl font-bold text-[#003035] mb-6" data-i18n="Contacto.form.title"></h2>
          
          <form id="contactForm" class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="nombre" class="block text-sm font-medium text-[#003035] mb-2" data-i18n="Contacto.form.name"></label>
                <input
                  type="text"
                  id="nombre"
                  name="nombre"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#CEDF00] focus:border-transparent transition-all text-[#003035]"
                  data-i18n-placeholder="Contacto.form.name_placeholder"
                >
              </div>
              
              <div>
                <label for="email" class="block text-sm font-medium text-[#003035] mb-2" data-i18n="Contacto.form.email"></label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#CEDF00] focus:border-transparent transition-all text-[#003035]"
                  data-i18n-placeholder="Contacto.form.email_placeholder"
                >
              </div>
            </div>

            <div>
              <label for="asunto" class="block text-sm font-medium text-[#003035] mb-2" data-i18n="Contacto.form.subject"></label>
              <input
                type="text"
                id="asunto"
                name="asunto"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#CEDF00] focus:border-transparent transition-all text-[#003035]"
                data-i18n-placeholder="Contacto.form.subject_placeholder"
              >
            </div>

            <div>
              <label for="mensaje" class="block text-sm font-medium text-[#003035] mb-2" data-i18n="Contacto.form.message"></label>
              <textarea
                id="mensaje"
                name="mensaje"
                rows="6"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#CEDF00] focus:border-transparent transition-all text-[#003035] resize-none"
                data-i18n-placeholder="Contacto.form.message_placeholder"
              ></textarea>
            </div>

            <button
              type="submit"
              class="w-full bg-[#CEDF00] text-[#003035] font-bold py-4 px-6 rounded-lg hover:bg-[#a1c460] transition-colors duration-300 transform hover:scale-105"
              data-i18n="Contacto.form.button"
            ></button>
          </form>

          <div id="mensajeConfirmacion" class="hidden mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg">
            <p class="text-center" data-i18n="Contacto.form.success"></p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('contactForm') as HTMLFormElement | null;
  const mensajeConfirmacion = document.getElementById('mensajeConfirmacion');

  if (form && mensajeConfirmacion) {
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(form);
      const nombre = String(formData.get('nombre') || '');
      const email = String(formData.get('email') || '');
      const asunto = String(formData.get('asunto') || '');
      const mensaje = String(formData.get('mensaje') || '');
      const mailtoLink = `mailto:carlos.rodrigo@spikatech.com?subject=${encodeURIComponent(asunto)}&body=${encodeURIComponent(
        `Nombre: ${nombre}\n` +
        `Email: ${email}\n\n` +
        `Mensaje:\n${mensaje}`
      )}`;
      window.location.href = mailtoLink;
      mensajeConfirmacion.classList.remove('hidden');
      form.reset();
    });
  }
});
</script> 